var j=Object.defineProperty,q=Object.defineProperties;var G=Object.getOwnPropertyDescriptors;var C=Object.getOwnPropertySymbols;var K=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var B=(o,a,e)=>a in o?j(o,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[a]=e,D=(o,a)=>{for(var e in a||(a={}))K.call(a,e)&&B(o,e,a[e]);if(C)for(var e of C(a))P.call(a,e)&&B(o,e,a[e]);return o},A=(o,a)=>q(o,G(a));import{t as Q}from"./tippy.esm.78c903c3.js";import{p as U,a as N,s as X}from"./label.1ae4d31b.js";import{a as Y,d as r,b as c,w as g,I as Z,p,e as v,u as d,k as $,n as b,t as H,g as k,F as ee,D as le,J as ae}from"./index.ec891db5.js";const te=["checked"],oe=["value","placeholder","tabindex","disabled"],se=["title","onClick"],ue={props:A(D({modelValue:{type:[String,Number,Boolean],default:""},disable:{type:Boolean,default:!1},text:{type:String,default:""},default:{type:[String,Number,Boolean],default:""}},U),{disabling:{type:[String,Boolean],default:!1},readonly:{type:[String,Boolean],default:!1},place:{type:[Number,String],default:""},tab:{type:[Number,String],default:0},align:{type:String,default:null},list:{type:Array,default:()=>[]}}),emits:["update:modelValue","update:disable","update:value"],setup(o,{emit:a}){const e=o,n=r(()=>N(e.disabling)),L=r(()=>N(e.readonly)),{label_:_,labelWidth_:z,labelAlign_:F}=X(e,n),I=r(()=>({width:z.value,textAlign:F.value})),i=c(n.value&&e.modelValue===!1?e.default:e.modelValue),s=c(n.value?e.modelValue===!1:e.disable);g(()=>e.disable,l=>{n.value||(s.value=l)}),g(()=>e.modelValue,l=>{n.value?l===!1?s.value=!0:(s.value=!1,i.value=l):i.value=l}),g([i,s],([l,t],[u,m])=>{n.value?(l!=u&&a("update:value",l),t!=m&&a("update:disable",t),a("update:modelValue",t===!0?!1:l)):a("update:modelValue",l)});const M=l=>i.value===l.value,S=r(()=>e.list),W=r(()=>S.value.map(l=>({selected:M(l),data:l}))),E=r(()=>{var l,t;return(t=(l=S.value.find(u=>u.value==i.value))==null?void 0:l.text)!=null?t:""}),y=c(null),h=c(null),f=c(null),x=c(""),J=()=>{},O=()=>{},R=()=>{f.value.state.isShown?f.value.hide():(x.value="auto",f.value.show())},T=l=>{var t;l.selected=!0,i.value=(t=l.data)==null?void 0:t.value};return Z(()=>{f.value=Q(y.value,{placement:"bottom-start",content:h.value,allowHTML:!0,interactive:!0,animation:"",duration:[0,0],offset:[0,-2],trigger:"manual",maxWidth:"unset",onHidden:O,onShown:J})}),(l,t)=>(p(),v("comp-combo",null,[d(n)?(p(),v("p-disabling",{key:0,class:"inblock",checked:l.brop(!s.value),onClick:t[0]||(t[0]=u=>s.value=!s.value)},null,8,te)):$("",!0),d(_)?(p(),v("p-label",{key:1,class:"inblock elli",style:b(d(I)),onClick:t[1]||(t[1]=u=>d(n)&&(s.value=!s.value))},H(d(_)),5)):$("",!0),k("p-value",{ref_key:"domValue",ref:y,class:"inblock",onClick:t[2]||(t[2]=u=>!s.value&&!d(L)&&R())},[k("input",{ref_key:"domValue",ref:y,value:d(E),style:b({textAlign:o.align}),placeholder:o.place,tabindex:o.tab,readonly:!0,disabled:s.value},null,12,oe)],512),k("p-drop",{ref_key:"domDrop",ref:h,tabindex:"0",style:b({width:x.value})},[(p(!0),v(ee,null,le(d(W),u=>{var m,w,V;return p(),v("div",{class:ae(["Option",{_selected:u.selected}]),title:(m=u.data)==null?void 0:m.value,style:b({textAlign:o.align}),onClick:ne=>T(u)},H((V=(w=u.data)==null?void 0:w.text)!=null?V:""),15,se)}),256))],4)]))}};var pe=Y(ue,[["__scopeId","data-v-168c1da9"]]);export{pe as default};
